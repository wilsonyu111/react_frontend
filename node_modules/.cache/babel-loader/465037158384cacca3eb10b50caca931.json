{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\wilso\\\\OneDrive\\\\react_frontend\\\\my-app\\\\src\\\\components\\\\App.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Room from \"./Room\";\nimport info from \"../info\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction createRoom(info) {\n  if (info.size === 0) {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"loading_data\",\n      children: \" loading data... \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(Room, {\n      roomId: info.id,\n      temp: info.temp,\n      hub: info.hub,\n      last_active: info.last_active\n    }, info.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this);\n  }\n}\n\nfunction createRoomHelper(dataList) {\n  let compList = [];\n\n  if (dataList.length === 0) {\n    compList.push(createRoom(new Map()));\n  } else {\n    dataList.forEach((item, index) => {\n      compList.push(createRoom(item));\n    });\n  }\n\n  return compList;\n}\n\nfunction App() {\n  _s();\n\n  const [roomData, updateRoomValue] = useState([]);\n  useEffect(() => {\n    // Update the document title using the browser API\n    console.log(\"use effect running\");\n    updatePageValue();\n  });\n\n  function updatePageValue() {\n    const request = new XMLHttpRequest();\n    console.log(\"sending request\");\n    request.addEventListener(\"readystatechange\", () => {\n      // in async request, ready state 4 is when the request is fully done\n      // look at xml readystatechange for what each code means\n      if (request.readyState === 4) {\n        const data = request.responseText;\n        const dataMap = new Map(Object.entries(JSON.parse(data)));\n        let dataList = [];\n        dataMap.forEach((value, key) => {\n          dataList.push(value);\n        });\n        console.log(dataList);\n        updateRoomValue(dataList);\n      }\n    });\n    request.open(\"GET\", \"http://192.168.0.26:5000/getData\", true);\n    request.send();\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"info\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"heading\",\n      children: \"Petaluma\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), createRoomHelper(roomData)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this); //  send get request to flask\n  // get json, parse json into hashmap\n  // loop through hashmap\n  // for each loop to create room\n}\n\n_s(App, \"uT2/KoyNMirVX1a/jUk0sQ/v0Zc=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Room","info","createRoom","size","id","temp","hub","last_active","createRoomHelper","dataList","compList","length","push","Map","forEach","item","index","App","roomData","updateRoomValue","console","log","updatePageValue","request","XMLHttpRequest","addEventListener","readyState","data","responseText","dataMap","Object","entries","JSON","parse","value","key","open","send"],"sources":["C:/Users/wilso/OneDrive/react_frontend/my-app/src/components/App.jsx"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport Room from \"./Room\";\nimport info from \"../info\";\n\n\n\nfunction createRoom(info) {\n\n  if (info.size === 0)\n  {\n    return (\n      <h1 className=\"loading_data\"> loading data... </h1> \n    );\n  }\n  else{\n    return (\n      <Room\n        key={info.id}\n        roomId = {info.id}\n        temp={info.temp}\n        hub={info.hub}\n        last_active={info.last_active}\n      />\n    );\n  }\n}\n\nfunction createRoomHelper(dataList)\n{\n  let compList = [];\n  if (dataList.length === 0)\n  {\n    compList.push(createRoom(new Map()));\n  }\n  else\n  {\n    dataList.forEach((item, index) => {\n      compList.push(createRoom(item))\n    });\n  }\n  return compList;\n}\n\n\n\nfunction App() {\n\n  const [roomData, updateRoomValue] = useState([]);\n  \n  useEffect(() => {\n    // Update the document title using the browser API\n    console.log(\"use effect running\");\n    updatePageValue();\n  });\n  function updatePageValue() {\n    const request = new XMLHttpRequest();\n    console.log(\"sending request\");\n    request.addEventListener(\"readystatechange\", () => {\n      // in async request, ready state 4 is when the request is fully done\n      // look at xml readystatechange for what each code means\n      if (request.readyState === 4) {\n        const data = request.responseText;\n        const dataMap = new Map(Object.entries(JSON.parse(data)));\n        let dataList = [];\n        dataMap.forEach((value, key) => {\n          dataList.push(value);\n        });\n        console.log(dataList);\n        updateRoomValue(dataList);\n      }\n    });\n    request.open(\"GET\", \"http://192.168.0.26:5000/getData\", true);\n    request.send();\n  }\n  \n  return (\n    <div className=\"info\">\n      <h1 className=\"heading\">Petaluma</h1>\n      {createRoomHelper(roomData)}\n      {/* <h2 onClick={updatePageValue}> refresh </h2> */}\n    </div> );\n    //  send get request to flask\n    // get json, parse json into hashmap\n    // loop through hashmap\n    // for each loop to create room\n   }\nexport default App;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,IAAP,MAAiB,SAAjB;;;AAIA,SAASC,UAAT,CAAoBD,IAApB,EAA0B;EAExB,IAAIA,IAAI,CAACE,IAAL,KAAc,CAAlB,EACA;IACE,oBACE;MAAI,SAAS,EAAC,cAAd;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EAGD,CALD,MAMI;IACF,oBACE,QAAC,IAAD;MAEE,MAAM,EAAIF,IAAI,CAACG,EAFjB;MAGE,IAAI,EAAEH,IAAI,CAACI,IAHb;MAIE,GAAG,EAAEJ,IAAI,CAACK,GAJZ;MAKE,WAAW,EAAEL,IAAI,CAACM;IALpB,GACON,IAAI,CAACG,EADZ;MAAA;MAAA;MAAA;IAAA,QADF;EASD;AACF;;AAED,SAASI,gBAAT,CAA0BC,QAA1B,EACA;EACE,IAAIC,QAAQ,GAAG,EAAf;;EACA,IAAID,QAAQ,CAACE,MAAT,KAAoB,CAAxB,EACA;IACED,QAAQ,CAACE,IAAT,CAAcV,UAAU,CAAC,IAAIW,GAAJ,EAAD,CAAxB;EACD,CAHD,MAKA;IACEJ,QAAQ,CAACK,OAAT,CAAiB,CAACC,IAAD,EAAOC,KAAP,KAAiB;MAChCN,QAAQ,CAACE,IAAT,CAAcV,UAAU,CAACa,IAAD,CAAxB;IACD,CAFD;EAGD;;EACD,OAAOL,QAAP;AACD;;AAID,SAASO,GAAT,GAAe;EAAA;;EAEb,MAAM,CAACC,QAAD,EAAWC,eAAX,IAA8BrB,QAAQ,CAAC,EAAD,CAA5C;EAEAC,SAAS,CAAC,MAAM;IACd;IACAqB,OAAO,CAACC,GAAR,CAAY,oBAAZ;IACAC,eAAe;EAChB,CAJQ,CAAT;;EAKA,SAASA,eAAT,GAA2B;IACzB,MAAMC,OAAO,GAAG,IAAIC,cAAJ,EAAhB;IACAJ,OAAO,CAACC,GAAR,CAAY,iBAAZ;IACAE,OAAO,CAACE,gBAAR,CAAyB,kBAAzB,EAA6C,MAAM;MACjD;MACA;MACA,IAAIF,OAAO,CAACG,UAAR,KAAuB,CAA3B,EAA8B;QAC5B,MAAMC,IAAI,GAAGJ,OAAO,CAACK,YAArB;QACA,MAAMC,OAAO,GAAG,IAAIhB,GAAJ,CAAQiB,MAAM,CAACC,OAAP,CAAeC,IAAI,CAACC,KAAL,CAAWN,IAAX,CAAf,CAAR,CAAhB;QACA,IAAIlB,QAAQ,GAAG,EAAf;QACAoB,OAAO,CAACf,OAAR,CAAgB,CAACoB,KAAD,EAAQC,GAAR,KAAgB;UAC9B1B,QAAQ,CAACG,IAAT,CAAcsB,KAAd;QACD,CAFD;QAGAd,OAAO,CAACC,GAAR,CAAYZ,QAAZ;QACAU,eAAe,CAACV,QAAD,CAAf;MACD;IACF,CAbD;IAcAc,OAAO,CAACa,IAAR,CAAa,KAAb,EAAoB,kCAApB,EAAwD,IAAxD;IACAb,OAAO,CAACc,IAAR;EACD;;EAED,oBACE;IAAK,SAAS,EAAC,MAAf;IAAA,wBACE;MAAI,SAAS,EAAC,SAAd;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,EAEG7B,gBAAgB,CAACU,QAAD,CAFnB;EAAA;IAAA;IAAA;IAAA;EAAA,QADF,CA9Ba,CAoCX;EACA;EACA;EACA;AACA;;GAxCKD,G;;KAAAA,G;AAyCT,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}